# EmbedAI Server - æ™ºèƒ½çŸ¥è¯†åº“åŠ©æ‰‹ç³»ç»Ÿ

ä¼ä¸šçº§ AI çŸ¥è¯†ç®¡ç†ä¸æœåŠ¡ç³»ç»Ÿï¼ŒåŸºäº RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰æŠ€æœ¯å’Œå¤§å‹è¯­è¨€æ¨¡å‹ï¼Œæä¾›é«˜æ€§èƒ½çš„è¯­ä¹‰æ£€ç´¢ã€æ™ºèƒ½é—®ç­”å’ŒçŸ¥è¯†ç®¡ç†åŠŸèƒ½ã€‚

## ğŸŒŸ æ ¸å¿ƒç‰¹æ€§

### ğŸ“Š å¤šç§Ÿæˆ·çŸ¥è¯†ç®¡ç†

- **çŸ¥è¯†åº“éš”ç¦»**ï¼šæ¯ä¸ªç”¨æˆ·å¯åˆ›å»ºå’Œç®¡ç†å¤šä¸ªç‹¬ç«‹çŸ¥è¯†åº“
- **æƒé™æ§åˆ¶**ï¼šç»†ç²’åº¦çš„ç”¨æˆ·æƒé™ç®¡ç†ï¼ˆè¯»/å†™/ç®¡ç†/æ‰€æœ‰è€…ï¼‰
- **å¤šç”¨æˆ·åä½œ**ï¼šæ”¯æŒçŸ¥è¯†åº“å¤šç”¨æˆ·å…±äº«ä¸åä½œ

### ğŸ¤– å…ˆè¿› AI æŠ€æœ¯

- **RAG æ£€ç´¢å¢å¼ºç”Ÿæˆ**ï¼šç»“åˆå‘é‡æ•°æ®åº“å’Œè¯­ä¹‰æ£€ç´¢æŠ€æœ¯
- **æ™ºèƒ½æ–‡æ¡£åˆ†å—**ï¼šåŸºäºè¯­ä¹‰çš„å†…å®¹åˆ†æ®µå’Œé‡å å¤„ç†
- **å‘é‡åŒ–æ£€ç´¢**ï¼šé«˜æ•ˆçš„è¯­ä¹‰ç›¸ä¼¼åº¦æœç´¢å’ŒåŒ¹é…
- **é‡æ’åºä¼˜åŒ–**ï¼šä½¿ç”¨é‡æ’åºæ¨¡å‹æå‡ç»“æœå‡†ç¡®æ€§

### ğŸ“ å¤šæ ¼å¼æ–‡æ¡£å¤„ç†

- **ä¸°å¯Œæ–‡æ¡£ç±»å‹**ï¼šPDFã€Wordã€Excelã€TXTã€Markdownã€HTML
- **æ™ºèƒ½åˆ†æ®µ**ï¼šåŸºäºè¯­ä¹‰çš„å†…å®¹åˆ†å—å’Œé‡å å¤„ç†
- **å…ƒæ•°æ®æå–**ï¼šè‡ªåŠ¨æå–æ–‡æ¡£æ ‡é¢˜ã€å…³é”®è¯ç­‰å…ƒæ•°æ®
- **OCR æ”¯æŒ**ï¼šå›¾ç‰‡å’Œæ‰«ææ–‡æ¡£çš„æ–‡å­—è¯†åˆ«

### ğŸ’¬ æ™ºèƒ½é—®ç­”ç³»ç»Ÿ

- **RAG å¢å¼ºå›ç­”**ï¼šåŸºäºæ£€ç´¢åˆ°çš„ç›¸å…³æ–‡æ¡£ç‰‡æ®µç”Ÿæˆå‡†ç¡®å›å¤
- **è¯­ä¹‰ç†è§£**ï¼šæ·±åº¦ç†è§£ç”¨æˆ·æ„å›¾ï¼Œæä¾›ç²¾å‡†çš„è¯­ä¹‰åŒ¹é…
- **ä¸Šä¸‹æ–‡æ„ŸçŸ¥**ï¼šä¿æŒå¯¹è¯ä¸Šä¸‹æ–‡ï¼Œæ”¯æŒå¤šè½®å¯¹è¯
- **å®æ—¶å¯¹è¯**ï¼šWebSocket æ”¯æŒçš„å®æ—¶èŠå¤©ä½“éªŒ
- **æˆæœ¬è®¡ç®—**ï¼šç²¾ç¡®çš„ Token ä½¿ç”¨å’Œè´¹ç”¨è®¡ç®—
- **é˜²åˆ·æœºåˆ¶**ï¼šå®Œå–„çš„è®¿é—®é¢‘ç‡æ§åˆ¶å’Œé˜²æ»¥ç”¨ä¿æŠ¤

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   FastAPI       â”‚    â”‚   Redis/Queue    â”‚    â”‚  Vector Store   â”‚
â”‚   API Server    â”‚â”€â”€â”€â†’â”‚   Async Tasks    â”‚â”€â”€â”€â†’â”‚  (Embeddings)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                      â”‚                      â”‚
         â†“                      â†“                      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   PostgreSQL    â”‚    â”‚   LLM Service    â”‚    â”‚   app/rag/      â”‚
â”‚   Metadata DB   â”‚    â”‚   SiliconFlow    â”‚    â”‚   RAG Modules   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### RAG æ•°æ®å¤„ç†æµç¨‹

1. **æ–‡æ¡£ä¸Šä¼ ** â†’ è§£ææ–‡æ¡£å†…å®¹
2. **å†…å®¹åˆ†å—** â†’ æ™ºèƒ½è¯­ä¹‰åˆ†æ®µå¤„ç†
3. **å‘é‡åŒ–** â†’ ç”Ÿæˆé«˜ç»´åµŒå…¥å‘é‡
4. **ç´¢å¼•æ„å»º** â†’ åˆ›å»ºå‘é‡ç´¢å¼•å’Œå…ƒæ•°æ®
5. **è¯­ä¹‰æ£€ç´¢** â†’ åŸºäºå‘é‡ç›¸ä¼¼åº¦çš„æ£€ç´¢
6. **ç»“æœé‡æ’** â†’ ä½¿ç”¨é‡æ’åºæ¨¡å‹ä¼˜åŒ–ç»“æœ
7. **æ™ºèƒ½å›ç­”** â†’ LLM åŸºäºæ£€ç´¢ä¸Šä¸‹æ–‡ç”Ÿæˆå›å¤

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.10+
- PostgreSQL
- Redis

### æœ¬åœ°å¼€å‘

#### 1. ç¯å¢ƒé…ç½®

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/congwa/EmbedAI-server.git
cd EmbedAI-server

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
poetry install

# æ¿€æ´»ç¯å¢ƒ
poetry shell
```

#### 2. ç¯å¢ƒå˜é‡é…ç½®

```bash
# å¤åˆ¶é…ç½®æ–‡ä»¶
cp .env.example .env

# ç¼–è¾‘é…ç½®vim .env
DATABASE_URL=postgresql://user:password@localhost/embedai
REDIS_HOST=localhost
REDIS_PORT=6379
SILICONFLOW_API_KEY=your_api_key
# æˆ–ä½¿ç”¨å…¶ä»–LLMæœåŠ¡
OPENAI_API_KEY=your_openai_key
ZHIPU_API_KEY=your_zhipu_key
```

#### 3. æ•°æ®åº“åˆå§‹åŒ–

```bash
# åˆ›å»ºæ•°æ®åº“è¡¨
alembic upgrade head

# åˆ›å»ºé»˜è®¤ç®¡ç†å‘˜
python scripts/create_admin.py --username admin --password admin123
```

#### 4. å¯åŠ¨æœåŠ¡

```bash
# å¼€å‘æ¨¡å¼ï¼ˆçƒ­é‡è½½ï¼‰
poetry run python main.py

# æˆ–ä½¿ç”¨uvicorn
poetry run uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

### Docker éƒ¨ç½²

#### 1. å¿«é€Ÿéƒ¨ç½²

```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
docker-compose ps
```

#### 2. ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

```bash
# æ„å»ºé•œåƒ
docker build -t embedai-server .

# è¿è¡Œå®¹å™¨ï¼ˆç”Ÿäº§é…ç½®ï¼‰
docker run -d \
  --name embedai-server \
  --restart unless-stopped \
  -p 8000:8000 \
  -e DATABASE_URL=postgresql://user:pass@db:5432/embedai \
  -e REDIS_URL=redis://redis:6379/0 \
  -e SILICONFLOW_API_KEY=your_key \
  -e WORKERS=4 \
  -e LOG_LEVEL=info \
  --memory=4g \
  --cpus=2 \
  embedai-server
```

#### 3. é›†ç¾¤éƒ¨ç½²

```yaml
# docker-compose.prod.yml
version: "3.8"
services:
  app:
    image: embedai-server
    deploy:
      replicas: 3
      resources:
        limits:
          memory: 4G
          cpus: "2"
    environment:
      - DATABASE_URL=postgresql://user:pass@db:5432/embedai
      - REDIS_URL=redis://redis:6379/0
      - WORKERS=2
    depends_on:
      - db
      - redis

  nginx:
    image: nginx:alpine
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf
    depends_on:
      - app

  db:
    image: postgres:15
    environment:
      POSTGRES_DB: embedai
      POSTGRES_USER: user
      POSTGRES_PASSWORD: password
    volumes:
      - postgres_data:/var/lib/postgresql/data

  redis:
    image: redis:7-alpine
    volumes:
      - redis_data:/data

volumes:
  postgres_data:
  redis_data:
```

### API æ–‡æ¡£

å¯åŠ¨æœåŠ¡åè®¿é—®ï¼š

- Swagger æ–‡æ¡£: http://localhost:8000/docs
- ReDoc æ–‡æ¡£: http://localhost:8000/redoc

## ğŸ“š API ä½¿ç”¨æŒ‡å—

### è®¤è¯æµç¨‹

```bash
# 1. ç”¨æˆ·æ³¨å†Œ
POST /api/v1/auth/register
{
  "email": "user@example.com",
  "password": "password123",
  "username": "testuser"
}

# 2. ç”¨æˆ·ç™»å½•
POST /api/v1/auth/login
{
  "email": "user@example.com",
  "password": "password123"
}

# 3. ä½¿ç”¨token
Authorization: Bearer <jwt_token>
```

### çŸ¥è¯†åº“ç®¡ç†

```bash
# åˆ›å»ºçŸ¥è¯†åº“
POST /api/v1/knowledge-bases
{
  "name": "å…¬å¸åˆ¶åº¦",
  "description": "å…¬å¸å†…éƒ¨ç®¡ç†åˆ¶åº¦"
}

# ä¸Šä¼ æ–‡æ¡£
POST /api/v1/knowledge-bases/{id}/documents
# æ”¯æŒæ–‡ä»¶: PDF, DOCX, XLSX, TXT, MD, HTML
```

### RAG æ™ºèƒ½é—®ç­”

```bash
# åŸºç¡€é—®ç­” - ä½¿ç”¨é»˜è®¤RAGé…ç½®
POST /api/v1/chat/completions
{
  "knowledge_base_id": "uuid",
  "messages": [
    {"role": "user", "content": "å…¬å¸çš„è¯·å‡æµç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ"}
  ]
}

# é«˜çº§RAGé…ç½®é—®ç­”
POST /api/v1/chat/completions
{
  "knowledge_base_id": "uuid",
  "messages": [
    {"role": "user", "content": "å…¬å¸çš„è¯·å‡æµç¨‹æ˜¯ä»€ä¹ˆï¼Ÿ"}
  ],
  "rag_config": {
    "retrieval_method": "semantic_search",
    "top_k": 5,
    "use_rerank": true,
    "rerank_mode": "weighted_score"
  }
}

# æ£€ç´¢æµ‹è¯• - ä»…è¿”å›ç›¸å…³æ–‡æ¡£ç‰‡æ®µ
POST /api/v1/knowledge-bases/{id}/search
{
  "query": "è¯·å‡æµç¨‹",
  "method": "semantic_search",
  "top_k": 10
}

# WebSocketå®æ—¶å¯¹è¯
ws://localhost:8000/ws/chat/{knowledge_base_id}
```

## ğŸ§ª å¼€å‘æŒ‡å—

### app/rag æ¨¡å—æ¶æ„

é¡¹ç›®é‡‡ç”¨æ¨¡å—åŒ–çš„ RAG æ¶æ„è®¾è®¡ï¼Œå„æ¨¡å—èŒè´£æ¸…æ™°ï¼Œæ˜“äºæ‰©å±•å’Œç»´æŠ¤ï¼š

```
app/rag/
â”œâ”€â”€ embedding/              # å‘é‡åŒ–æ¨¡å—
â”‚   â”œâ”€â”€ embedding_base.py   # å‘é‡åŒ–åŸºç±»æ¥å£
â”‚   â”œâ”€â”€ cached_embedding.py # ç¼“å­˜å‘é‡åŒ–å®ç°
â”‚   â””â”€â”€ embedding_engine.py # å‘é‡åŒ–å¼•æ“
â”œâ”€â”€ retrieval/              # æ£€ç´¢æ¨¡å—
â”‚   â”œâ”€â”€ retrieval_service.py # æ£€ç´¢æœåŠ¡ä¸»å…¥å£
â”‚   â”œâ”€â”€ retrieval_engine.py  # æ£€ç´¢å¼•æ“å®ç°
â”‚   â”œâ”€â”€ retrieval_methods.py # æ£€ç´¢æ–¹æ³•å®šä¹‰
â”‚   â””â”€â”€ query_cache.py       # æŸ¥è¯¢ç»“æœç¼“å­˜
â”œâ”€â”€ extractor/              # æ–‡æ¡£æå–æ¨¡å—
â”‚   â”œâ”€â”€ extract_processor.py # æå–å¤„ç†å™¨
â”‚   â”œâ”€â”€ pdf_extractor.py     # PDFæ–‡æ¡£æå–
â”‚   â”œâ”€â”€ word_extractor.py    # Wordæ–‡æ¡£æå–
â”‚   â”œâ”€â”€ excel_extractor.py   # Excelæ–‡æ¡£æå–
â”‚   â””â”€â”€ html_extractor.py    # HTMLæ–‡æ¡£æå–
â”œâ”€â”€ splitter/               # æ–‡æ¡£åˆ†å—æ¨¡å—
â”‚   â”œâ”€â”€ text_splitter.py     # é€šç”¨æ–‡æœ¬åˆ†å—å™¨
â”‚   â””â”€â”€ recursive_character_text_splitter.py # é€’å½’å­—ç¬¦åˆ†å—å™¨
â”œâ”€â”€ rerank/                 # ç»“æœé‡æ’åºæ¨¡å—
â”‚   â”œâ”€â”€ rerank_base.py       # é‡æ’åºåŸºç±»
â”‚   â”œâ”€â”€ rerank_factory.py    # é‡æ’åºå·¥å‚
â”‚   â””â”€â”€ weight_rerank.py     # æƒé‡é‡æ’åº
â”œâ”€â”€ training/               # è®­ç»ƒç®¡ç†æ¨¡å—
â”‚   â”œâ”€â”€ training_manager.py  # è®­ç»ƒç®¡ç†å™¨
â”‚   â””â”€â”€ training_status.py   # è®­ç»ƒçŠ¶æ€ç®¡ç†
â””â”€â”€ models/                 # æ•°æ®æ¨¡å‹
    â””â”€â”€ document.py          # æ–‡æ¡£æ•°æ®æ¨¡å‹
```

#### RAG æ¨¡å—ç»„ä»¶å…³ç³»å›¾

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚            SessionManager              â”‚
                    â”‚         (app/utils/session.py)         â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚          RetrievalService               â”‚
                    â”‚      (app/rag/retrieval/)               â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                             â”‚                             â”‚
        â–¼                             â–¼                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ EmbeddingEngineâ”‚           â”‚ RetrievalEngine â”‚           â”‚ TrainingManager â”‚
â”‚ (embedding/)   â”‚           â”‚ (retrieval/)    â”‚           â”‚ (training/)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                             â”‚
        â–¼                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CachedEmbeddingâ”‚           â”‚ IndexProcessor  â”‚
â”‚ (embedding/)   â”‚           â”‚ (index_processor/)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚ ExtractProcessor â”‚
                            â”‚ (extractor/)     â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚  TextSplitter   â”‚
                            â”‚  (splitter/)    â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### RAG å·¥ä½œæµç¨‹

1. **æ–‡æ¡£å¤„ç†æµç¨‹**

   ```python
   # æ–‡æ¡£ä¸Šä¼  â†’ æå– â†’ åˆ†å— â†’ å‘é‡åŒ– â†’ å­˜å‚¨
   extractor = ExtractProcessor()
   content = await extractor.extract_document(file)

   splitter = TextSplitter(chunk_size=1000, chunk_overlap=200)
   chunks = splitter.split_text(content)

   embedding_engine = EmbeddingEngine(llm_config)
   vectors = await embedding_engine.embed_documents(chunks)
   ```

2. **æ£€ç´¢æŸ¥è¯¢æµç¨‹**
   ```python
   # æŸ¥è¯¢ â†’ å‘é‡åŒ– â†’ æ£€ç´¢ â†’ é‡æ’åº â†’ è¿”å›ç»“æœ
   retrieval_service = RetrievalService(db)
   results = await retrieval_service.query(
       knowledge_base=kb,
       query="ç”¨æˆ·é—®é¢˜",
       method="semantic_search",
       top_k=5,
       use_rerank=True
   )
   ```

#### æ¨¡å—åŒ–è®¾è®¡ä¼˜åŠ¿

1. **é«˜åº¦è§£è€¦**: å„æ¨¡å—ç‹¬ç«‹å¼€å‘å’Œæµ‹è¯•ï¼Œæ˜“äºç»´æŠ¤
2. **çµæ´»æ‰©å±•**: å¯ä»¥è½»æ¾æ›¿æ¢æˆ–æ‰©å±•ç‰¹å®šæ¨¡å—
3. **æ€§èƒ½ä¼˜åŒ–**: æ¯ä¸ªæ¨¡å—éƒ½å¯ä»¥ç‹¬ç«‹ä¼˜åŒ–æ€§èƒ½
4. **å¤šæ ·åŒ–æ”¯æŒ**: æ”¯æŒå¤šç§æ–‡æ¡£æ ¼å¼ã€æ£€ç´¢æ–¹æ³•å’Œé‡æ’åºç­–ç•¥

#### æ ¸å¿ƒæ¨¡å—è¯¦è§£

**1. å‘é‡åŒ–æ¨¡å— (embedding/)**

```python
from app.rag.embedding.embedding_engine import EmbeddingEngine

# åˆå§‹åŒ–å‘é‡åŒ–å¼•æ“
engine = EmbeddingEngine(llm_config, db)

# æ‰¹é‡å‘é‡åŒ–æ–‡æ¡£
vectors = await engine.embed_documents(texts)

# å‘é‡åŒ–æŸ¥è¯¢
query_vector = await engine.embed_query("ç”¨æˆ·æŸ¥è¯¢")
```

**2. æ£€ç´¢æ¨¡å— (retrieval/)**

```python
from app.rag.retrieval.retrieval_service import RetrievalService
from app.rag.retrieval.retrieval_methods import RetrievalMethod

# æ”¯æŒå¤šç§æ£€ç´¢æ–¹æ³•
methods = [
    RetrievalMethod.SEMANTIC_SEARCH,    # è¯­ä¹‰æ£€ç´¢
    RetrievalMethod.KEYWORD_SEARCH,     # å…³é”®è¯æ£€ç´¢
    RetrievalMethod.HYBRID_SEARCH       # æ··åˆæ£€ç´¢
]
```

**3. æ–‡æ¡£å¤„ç†æ¨¡å— (extractor/ & splitter/)**

```python
from app.rag.extractor.extract_processor import ExtractProcessor
from app.rag.splitter.text_splitter import TextSplitter

# æ”¯æŒå¤šç§æ–‡æ¡£æ ¼å¼
extractor = ExtractProcessor()
content = await extractor.extract_document(file)  # PDF, Word, Excelç­‰

# æ™ºèƒ½åˆ†å—
splitter = TextSplitter(chunk_size=1000, chunk_overlap=200)
chunks = splitter.split_text(content)
```

**4. é‡æ’åºæ¨¡å— (rerank/)**

```python
from app.rag.rerank.rerank_factory import RerankFactory
from app.rag.rerank.rerank_type import RerankMode

# åˆ›å»ºé‡æ’åºå™¨
reranker = RerankFactory.create_reranker(RerankMode.WEIGHTED_SCORE)
reranked_results = await reranker.rerank(query, results)
```

### é¡¹ç›®ç»“æ„

```
EmbedAI-server/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/v1/          # APIè·¯ç”±
â”‚   â”œâ”€â”€ core/            # æ ¸å¿ƒé…ç½®
â”‚   â”œâ”€â”€ models/          # æ•°æ®åº“æ¨¡å‹
â”‚   â”œâ”€â”€ schemas/         # æ•°æ®éªŒè¯
â”‚   â””â”€â”€ services/        # ä¸šåŠ¡é€»è¾‘
â”œâ”€â”€ app/rag/             # RAGå¼•æ“æ¨¡å—
â”‚   â”œâ”€â”€ retrieval/       # æ£€ç´¢æœåŠ¡
â”‚   â”œâ”€â”€ embedding/       # å‘é‡åŒ–å¼•æ“
â”‚   â”œâ”€â”€ extractor/       # æ–‡æ¡£æå–å™¨
â”‚   â”œâ”€â”€ splitter/        # æ–‡æ¡£åˆ†å—å™¨
â”‚   â”œâ”€â”€ rerank/          # ç»“æœé‡æ’åº
â”‚   â””â”€â”€ training/        # è®­ç»ƒç®¡ç†
â”œâ”€â”€ main.py              # åº”ç”¨å…¥å£
â”œâ”€â”€ pyproject.toml       # ä¾èµ–é…ç½®
â””â”€â”€ alembic/             # æ•°æ®åº“è¿ç§»
```

### å¼€å‘å·¥å…·

#### ä»£ç è´¨é‡

```bash
# ä»£ç æ£€æŸ¥
poetry run flake8 app/

# ç±»å‹æ£€æŸ¥
poetry run mypy app/

# å®‰å…¨æ‰«æ
poetry run bandit -r app/
```

#### æµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
poetry run pytest

# è¿è¡Œç‰¹å®šæµ‹è¯•
poetry run pytest tests/test_knowledge_base.py -v

# å¸¦è¦†ç›–ç‡æµ‹è¯•
poetry run pytest --cov=app --cov-report=html
```

#### æ•°æ®åº“è¿ç§»

```bash
# åˆ›å»ºè¿ç§»
alembic revision --autogenerate -m "add user table"

# è¿è¡Œè¿ç§»
alembic upgrade head

# å›æ»šè¿ç§»
alembic downgrade -1
```

### æ¨¡å‹é…ç½®

#### æ”¯æŒçš„ LLM æœåŠ¡

- **SiliconFlow** (é»˜è®¤): å…è´¹é¢åº¦å……è¶³ï¼Œæ”¯æŒ Qwen ç³»åˆ—æ¨¡å‹
- **OpenAI**: GPT-3.5, GPT-4 ç­‰
- **Zhipu**: ä¸­æ–‡ä¼˜åŒ–ï¼Œé€‚åˆå›½å†…ä½¿ç”¨

#### RAG é…ç½®ç¤ºä¾‹

```python
# ä¿®æ”¹ app/core/config.py ä¸­çš„RAGç›¸å…³é…ç½®
DEFAULT_LLM_MODEL = "Qwen/Qwen2.5-7B-Instruct"
DEFAULT_API_BASE = "https://api.siliconflow.cn/v1"
DEFAULT_API_KEY = "sk-xxx"

# å‘é‡åŒ–é…ç½®
DEFAULT_EMBEDDING_MODEL = "text-embedding-ada-002"
DEFAULT_EMBEDDING_DIM = 1536
CHUNK_SIZE = 1000
CHUNK_OVERLAP = 200

# æ£€ç´¢é…ç½®
DEFAULT_TOP_K = 5
USE_RERANK = True
RERANK_MODEL = "bge-reranker-base"
```

#### ç¯å¢ƒå˜é‡é…ç½®

```bash
# æ ¸å¿ƒæœåŠ¡é…ç½®
DATABASE_URL=postgresql://user:password@localhost/embedai
REDIS_URL=redis://localhost:6379/0

# LLMæœåŠ¡é…ç½®ï¼ˆé€‰æ‹©å…¶ä¸€æˆ–å¤šä¸ªï¼‰
SILICONFLOW_API_KEY=sk-your-siliconflow-key
OPENAI_API_KEY=sk-your-openai-key
ZHIPU_API_KEY=your-zhipu-key

# RAGé…ç½®
DEFAULT_CHUNK_SIZE=1000
DEFAULT_CHUNK_OVERLAP=200
DEFAULT_TOP_K=5
ENABLE_RERANK=true

# å¯é€‰ï¼šè‡ªå®šä¹‰æ¨¡å‹é…ç½®
CUSTOM_LLM_MODEL=Qwen/Qwen2.5-7B-Instruct
CUSTOM_EMBEDDING_MODEL=text-embedding-ada-002
```

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### RAG æ€§èƒ½ä¼˜åŠ¿

#### æ£€ç´¢é€Ÿåº¦ä¼˜åŠ¿

- **å‘é‡æ£€ç´¢**: æ¯«ç§’çº§çš„è¯­ä¹‰ç›¸ä¼¼åº¦è®¡ç®—ï¼Œè¿œè¶…ä¼ ç»Ÿå…³é”®è¯æœç´¢
- **å¹¶è¡Œå¤„ç†**: æ”¯æŒæ‰¹é‡æ–‡æ¡£å‘é‡åŒ–å’Œå¹¶è¡Œæ£€ç´¢
- **ç´¢å¼•ä¼˜åŒ–**: é«˜æ•ˆçš„å‘é‡ç´¢å¼•ç»“æ„ï¼Œæ”¯æŒå¤§è§„æ¨¡æ–‡æ¡£åº“

#### å‡†ç¡®æ€§æå‡

- **è¯­ä¹‰ç†è§£**: åŸºäºæ·±åº¦å­¦ä¹ çš„è¯­ä¹‰åŒ¹é…ï¼Œç†è§£ç”¨æˆ·çœŸå®æ„å›¾
- **ä¸Šä¸‹æ–‡ç›¸å…³**: æ£€ç´¢åˆ°çš„æ–‡æ¡£ç‰‡æ®µä¸æŸ¥è¯¢é«˜åº¦ç›¸å…³
- **é‡æ’åºä¼˜åŒ–**: äºŒæ¬¡æ’åºæå‡æœ€ç»ˆç»“æœçš„å‡†ç¡®æ€§

#### ä¸ä¼ ç»Ÿæœç´¢å¯¹æ¯”

| ç‰¹æ€§     | ä¼ ç»Ÿå…³é”®è¯æœç´¢ | RAG è¯­ä¹‰æ£€ç´¢   |
| -------- | -------------- | -------------- |
| åŒ¹é…æ–¹å¼ | ç²¾ç¡®å…³é”®è¯åŒ¹é… | è¯­ä¹‰ç›¸ä¼¼åº¦åŒ¹é… |
| ç†è§£èƒ½åŠ› | å­—é¢æ„æ€       | æ·±å±‚è¯­ä¹‰ç†è§£   |
| å¬å›ç‡   | ä¾èµ–å…³é”®è¯è¦†ç›– | åŸºäºè¯­ä¹‰ç›¸å…³æ€§ |
| å“åº”é€Ÿåº¦ | å¿«é€Ÿ           | æ¯«ç§’çº§å“åº”     |
| ç»“æœè´¨é‡ | ä¾èµ–å…³é”®è¯è´¨é‡ | æ™ºèƒ½è¯­ä¹‰æ’åº   |

### ç¼“å­˜ç­–ç•¥

- **Redis ç¼“å­˜**: ç¼“å­˜å¸¸ç”¨æŸ¥è¯¢ç»“æœå’Œå‘é‡æ£€ç´¢ç»“æœ
- **å‘é‡ç¼“å­˜**: é¿å…é‡å¤å‘é‡åŒ–å¤„ç†ï¼Œæå‡å“åº”é€Ÿåº¦
- **æŸ¥è¯¢ç¼“å­˜**: ç¼“å­˜ç›¸ä¼¼æŸ¥è¯¢çš„æ£€ç´¢ç»“æœï¼Œå‡å°‘è®¡ç®—å¼€é”€
- **æ™ºèƒ½é¢„çƒ­**: æ ¹æ®è®¿é—®æ¨¡å¼é¢„åŠ è½½çƒ­é—¨æ–‡æ¡£å‘é‡

### æ€§èƒ½åŸºå‡†æµ‹è¯•

#### æ£€ç´¢æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡         | å°å‹çŸ¥è¯†åº“(1K æ–‡æ¡£) | ä¸­å‹çŸ¥è¯†åº“(10K æ–‡æ¡£) | å¤§å‹çŸ¥è¯†åº“(100K æ–‡æ¡£) |
| ------------ | ------------------- | -------------------- | --------------------- |
| å¹³å‡æ£€ç´¢æ—¶é—´ | 50ms                | 120ms                | 300ms                 |
| å‘é‡åŒ–æ—¶é—´   | 10ms                | 10ms                 | 10ms                  |
| é‡æ’åºæ—¶é—´   | 20ms                | 40ms                 | 80ms                  |
| å†…å­˜ä½¿ç”¨     | 500MB               | 2GB                  | 8GB                   |
| å¹¶å‘æ”¯æŒ     | 100 QPS             | 80 QPS               | 50 QPS                |

#### å‡†ç¡®æ€§æŒ‡æ ‡

- **è¯­ä¹‰åŒ¹é…å‡†ç¡®ç‡**: 85-92%ï¼ˆç›¸æ¯”å…³é”®è¯æœç´¢çš„ 60-70%ï¼‰
- **ä¸Šä¸‹æ–‡ç›¸å…³æ€§**: 90%+ï¼ˆåŸºäºäººå·¥è¯„ä¼°ï¼‰
- **å¤šè¯­è¨€æ”¯æŒ**: ä¸­è‹±æ–‡æ··åˆæ£€ç´¢å‡†ç¡®ç‡ 80%+

### ä¼˜åŒ–ç­–ç•¥

#### ç¼“å­˜ä¼˜åŒ–

```python
# å¤šå±‚ç¼“å­˜ç­–ç•¥
1. L1ç¼“å­˜: å†…å­˜ä¸­çš„æŸ¥è¯¢ç»“æœç¼“å­˜ï¼ˆRedisï¼‰
2. L2ç¼“å­˜: å‘é‡è®¡ç®—ç»“æœç¼“å­˜
3. L3ç¼“å­˜: æ–‡æ¡£åˆ†å—ç¼“å­˜
4. æ™ºèƒ½é¢„çƒ­: åŸºäºè®¿é—®æ¨¡å¼çš„é¢„åŠ è½½
```

#### æ‰¹å¤„ç†ä¼˜åŒ–

```python
# æ‰¹é‡å¤„ç†é…ç½®
BATCH_SIZE = 100          # å‘é‡åŒ–æ‰¹å¤„ç†å¤§å°
MAX_CONCURRENT = 10       # æœ€å¤§å¹¶å‘è¯·æ±‚æ•°
CHUNK_OVERLAP = 200       # æ–‡æ¡£åˆ†å—é‡å å­—ç¬¦æ•°
RERANK_TOP_K = 20         # é‡æ’åºå€™é€‰æ•°é‡
```

### æ‰©å±•å»ºè®®

- **æ°´å¹³æ‰©å±•**: ä½¿ç”¨è´Ÿè½½å‡è¡¡éƒ¨ç½²å¤šå°å®ä¾‹
- **å‘é‡æ•°æ®åº“**: é›†æˆä¸“ä¸šå‘é‡æ•°æ®åº“ï¼ˆå¦‚ Milvusã€Pineconeã€Chromaï¼‰
- **GPU åŠ é€Ÿ**: ä½¿ç”¨ GPU åŠ é€Ÿå‘é‡è®¡ç®—å’Œæ¨¡å‹æ¨ç†
- **åˆ†å¸ƒå¼æ£€ç´¢**: æ”¯æŒè·¨å¤šä¸ªèŠ‚ç‚¹çš„åˆ†å¸ƒå¼å‘é‡æ£€ç´¢
- **æ¨¡å‹ä¼˜åŒ–**: ä½¿ç”¨é‡åŒ–æ¨¡å‹å‡å°‘å†…å­˜å ç”¨
- **ç´¢å¼•ä¼˜åŒ–**: ä½¿ç”¨ HNSWã€IVF ç­‰é«˜æ•ˆç´¢å¼•ç®—æ³•

## ğŸ”„ é…å¥—é¡¹ç›®

### SDK å’Œå‰ç«¯

- **[EmbedAI-sdk H5 ç«¯ sdk](./frontend/sdk/)**: ç§»åŠ¨ç«¯ SDKï¼Œå¿«é€Ÿé›†æˆåˆ°ç§»åŠ¨åº”ç”¨
- **[EmbedAI-admin åå°ç®¡ç†ç«¯](./frontend/admin/)**: ç®¡ç†åå°ï¼Œç›‘æ§å’Œé…ç½®ç®¡ç†

### å®¢æˆ·ç«¯ç¤ºä¾‹

```javascript
// JavaScript SDKç¤ºä¾‹
const sdk = new EmbedAI({
  baseURL: "http://localhost:8000",
  token: "your_jwt_token",
});

// è·å–çŸ¥è¯†åº“åˆ—è¡¨
await sdk.getKnowledgeBases();

// ä¸Šä¼ æ–‡æ¡£å¹¶è®­ç»ƒ
await sdk.uploadDocument(kbId, file);

// æ™ºèƒ½é—®ç­”
await sdk.chat(kbId, "é—®é¢˜å†…å®¹");
```

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. æ•°æ®åº“è¿æ¥å¤±è´¥

```bash
# æ£€æŸ¥æ•°æ®åº“çŠ¶æ€
systemctl status postgres

# æ£€æŸ¥é…ç½®è¿æ¥å­—ç¬¦ä¸²
python -c "from sqlalchemy import create_engine; print(create_engine('ä½ çš„æ•°æ®åº“URL').connect())"
```

#### 2. å‘é‡åŒ–æœåŠ¡é—®é¢˜

```bash
# æ£€æŸ¥å‘é‡åŒ–APIè¿æ¥
curl -H "Authorization: Bearer your_key" \
  https://api.siliconflow.cn/v1/models

# æµ‹è¯•å‘é‡åŒ–åŠŸèƒ½
python -c "
from app.rag.embedding.embedding_engine import EmbeddingEngine
from app.schemas.llm import LLMConfig
# æµ‹è¯•å‘é‡åŒ–æ˜¯å¦æ­£å¸¸å·¥ä½œ
"
```

#### 3. Redis è¿æ¥é—®é¢˜

```bash
# æ£€æŸ¥Redisè¿æ¥
redis-cli ping
# åº”è¿”å› PONG

# æ£€æŸ¥Redisé…ç½®
python -c "
import redis
r = redis.Redis(host='localhost', port=6379, db=0)
print(r.ping())
"
```

#### 4. LLM æœåŠ¡è°ƒç”¨å¤±è´¥

```bash
# æ£€æŸ¥SiliconFlow API
curl -H "Authorization: Bearer your_key" \
  https://api.siliconflow.cn/v1/models

# æ£€æŸ¥OpenAI API
curl -H "Authorization: Bearer your_key" \
  https://api.openai.com/v1/models

# æµ‹è¯•å‘é‡åŒ–æœåŠ¡
curl -H "Authorization: Bearer your_key" \
  -H "Content-Type: application/json" \
  -d '{"input": "æµ‹è¯•æ–‡æœ¬", "model": "text-embedding-ada-002"}' \
  https://api.openai.com/v1/embeddings
```

#### 5. RAG è®­ç»ƒé—®é¢˜

```bash
# æ£€æŸ¥è®­ç»ƒçŠ¶æ€
python -c "
from app.services.knowledge_base import KnowledgeBaseService
from app.core.database import get_db
# æ£€æŸ¥çŸ¥è¯†åº“è®­ç»ƒçŠ¶æ€
"

# æŸ¥çœ‹è®­ç»ƒæ—¥å¿—
docker logs embedai-server | grep -i "training"

# æµ‹è¯•RAGæ¨¡å—
python -c "
from app.rag.retrieval.retrieval_service import RetrievalService
from app.rag.embedding.embedding_engine import EmbeddingEngine
print('RAG modules imported successfully')
"
```

#### 6. é…ç½®éªŒè¯è„šæœ¬

```bash
# åˆ›å»ºé…ç½®éªŒè¯è„šæœ¬
cat > validate_config.py << 'EOF'
#!/usr/bin/env python3
import os
import sys
from sqlalchemy import create_engine
import redis

def validate_database():
    try:
        db_url = os.getenv('DATABASE_URL')
        if not db_url:
            print("âŒ DATABASE_URL not set")
            return False
        engine = create_engine(db_url)
        engine.connect()
        print("âœ… Database connection successful")
        return True
    except Exception as e:
        print(f"âŒ Database connection failed: {e}")
        return False

def validate_redis():
    try:
        redis_url = os.getenv('REDIS_URL', 'redis://localhost:6379/0')
        r = redis.from_url(redis_url)
        r.ping()
        print("âœ… Redis connection successful")
        return True
    except Exception as e:
        print(f"âŒ Redis connection failed: {e}")
        return False

def validate_llm_keys():
    keys = ['SILICONFLOW_API_KEY', 'OPENAI_API_KEY', 'ZHIPU_API_KEY']
    found = False
    for key in keys:
        if os.getenv(key):
            print(f"âœ… {key} is set")
            found = True
    if not found:
        print("âŒ No LLM API keys found")
        return False
    return True

if __name__ == "__main__":
    print("ğŸ” Validating EmbedAI configuration...")
    results = [
        validate_database(),
        validate_redis(),
        validate_llm_keys()
    ]

    if all(results):
        print("ğŸ‰ All configurations are valid!")
        sys.exit(0)
    else:
        print("ğŸ’¥ Some configurations are invalid!")
        sys.exit(1)
EOF

# è¿è¡ŒéªŒè¯
python validate_config.py
```

## ğŸ“„ License

æœ¬é¡¹ç›®é‡‡ç”¨ MIT License - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ï¿½ è¿æŒç»´å’Œç›‘æ§

### ç³»ç»Ÿç›‘æ§

#### å…³é”®æŒ‡æ ‡ç›‘æ§

```bash
# RAGç³»ç»Ÿå…³é”®æŒ‡æ ‡
- æ£€ç´¢å“åº”æ—¶é—´ (P95 < 500ms)
- å‘é‡åŒ–å¤„ç†æ—¶é—´ (P95 < 100ms)
- çŸ¥è¯†åº“è®­ç»ƒæˆåŠŸç‡ (> 95%)
- APIå¯ç”¨æ€§ (> 99.9%)
- å†…å­˜ä½¿ç”¨ç‡ (< 80%)
- ç¼“å­˜å‘½ä¸­ç‡ (> 70%)
```

#### æ—¥å¿—ç›‘æ§

```bash
# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
docker logs -f embedai-server

# æŸ¥çœ‹RAGç›¸å…³æ—¥å¿—
docker logs embedai-server | grep -i "rag\|embedding\|retrieval"

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
docker logs embedai-server | grep -i "error\|exception"

# æŸ¥çœ‹æ€§èƒ½æ—¥å¿—
docker logs embedai-server | grep -i "performance\|duration"
```

#### å¥åº·æ£€æŸ¥

```bash
# APIå¥åº·æ£€æŸ¥
curl http://localhost:8000/health

# æ•°æ®åº“è¿æ¥æ£€æŸ¥
curl http://localhost:8000/health/db

# Redisè¿æ¥æ£€æŸ¥
curl http://localhost:8000/health/redis

# RAGæœåŠ¡æ£€æŸ¥
curl http://localhost:8000/health/rag
```

### å¤‡ä»½å’Œæ¢å¤

#### æ•°æ®å¤‡ä»½ç­–ç•¥

```bash
# æ•°æ®åº“å¤‡ä»½
pg_dump -h localhost -U user embedai > backup_$(date +%Y%m%d).sql

# Redisæ•°æ®å¤‡ä»½
redis-cli --rdb backup_redis_$(date +%Y%m%d).rdb

# çŸ¥è¯†åº“æ–‡ä»¶å¤‡ä»½
tar -czf kb_files_$(date +%Y%m%d).tar.gz /path/to/knowledge_bases/
```

#### æ¢å¤æµç¨‹

```bash
# æ•°æ®åº“æ¢å¤
psql -h localhost -U user embedai < backup_20240101.sql

# Redisæ•°æ®æ¢å¤
redis-cli --rdb backup_redis_20240101.rdb

# é‡å»ºå‘é‡ç´¢å¼•
python scripts/rebuild_vectors.py
```

### æ€§èƒ½è°ƒä¼˜

#### æ•°æ®åº“ä¼˜åŒ–

```sql
-- åˆ›å»ºå¿…è¦çš„ç´¢å¼•
CREATE INDEX idx_documents_kb_id ON documents(knowledge_base_id);
CREATE INDEX idx_document_chunks_doc_id ON document_chunks(document_id);
CREATE INDEX idx_embeddings_vector ON embeddings USING ivfflat (vector);

-- å®šæœŸç»´æŠ¤
VACUUM ANALYZE documents;
VACUUM ANALYZE document_chunks;
```

#### Redis ä¼˜åŒ–

```bash
# Redisé…ç½®ä¼˜åŒ–
maxmemory 2gb
maxmemory-policy allkeys-lru
save 900 1
save 300 10
save 60 10000
```

#### åº”ç”¨ä¼˜åŒ–

```python
# ç¯å¢ƒå˜é‡è°ƒä¼˜
WORKERS=4                    # æ ¹æ®CPUæ ¸å¿ƒæ•°è°ƒæ•´
MAX_CONNECTIONS=100          # æ•°æ®åº“è¿æ¥æ± å¤§å°
REDIS_MAX_CONNECTIONS=50     # Redisè¿æ¥æ± å¤§å°
CHUNK_SIZE=1000             # æ–‡æ¡£åˆ†å—å¤§å°
BATCH_SIZE=100              # æ‰¹å¤„ç†å¤§å°
CACHE_TTL=3600              # ç¼“å­˜è¿‡æœŸæ—¶é—´ï¼ˆç§’ï¼‰
```

## ğŸ“ æ”¯æŒ

- ğŸ“§ Email: cong_wa@163.com
- ğŸ“¦ GitHub Issues: [é¡¹ç›® Issues](https://github.com/congwa/EmbedAI-server/issues)
- ğŸ’¬ è®¨è®ºåŒº: [é¡¹ç›® Discussions](https://github.com/congwa/EmbedAI-server/discussions)
